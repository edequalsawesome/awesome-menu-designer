{"version":3,"file":"blocks/mega-menu/view.js","mappings":"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","sources":["webpack://menu-designer/external module \"@wordpress/interactivity\"","webpack://menu-designer/webpack/bootstrap","webpack://menu-designer/webpack/runtime/make namespace object","webpack://menu-designer/./src/blocks/mega-menu/view.js"],"sourcesContent":["var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport {\n\tstore,\n\tgetContext,\n\tgetElement,\n\twithScope,\n} from '@wordpress/interactivity';\n\n// Configuration constants\nconst CONFIG = {\n\t// Viewport breakpoints\n\tMOBILE_BREAKPOINT: 600, // px - Below this is considered mobile\n\n\t// Hover behavior\n\tHOVER: {\n\t\tBASE_DELAY: 300, // ms - Base hover intent delay\n\t\tDELAY_PER_PX: 2, // ms - Additional delay per pixel of top spacing\n\t},\n\n\t// Menu dimensions\n\tMENU: {\n\t\tMIN_WIDTH: 200, // px - Minimum width for menus\n\t\tMIN_WIDTH_BEFORE_ANCHOR: 400, // px - Minimum width before switching to anchoring\n\t\tVIEWPORT_OFFSET: 120, // px - Space reserved for modal header\n\t\tMOBILE_BG_OPACITY: 0.75, // Opacity for mobile background color\n\t\tDEFAULT_BG_FALLBACK: 'rgba(255, 255, 255, 0.75)', // Fallback mobile background\n\t},\n\n\t// CSS classes\n\tCLASSES: {\n\t\tMENU_CONTAINER: '.wp-block-ollie-mega-menu__menu-container',\n\t\tNAV_BLOCK: '.wp-block-navigation',\n\t\tRESPONSIVE_CONTAINER: '.wp-block-navigation__responsive-container',\n\t},\n};\n\n// Menu utility functions\nconst menuUtils = {\n\t// DOM query helpers\n\tgetMenu: ( ref ) => ref.querySelector( CONFIG.CLASSES.MENU_CONTAINER ),\n\tgetNavBlock: ( menu ) => menu.closest( CONFIG.CLASSES.NAV_BLOCK ),\n\tgetResponsiveContainer: ( menu ) =>\n\t\tmenu.closest( CONFIG.CLASSES.RESPONSIVE_CONTAINER ),\n\n\t// Color parsing utilities\n\tparseRgbColor: ( colorString ) => {\n\t\tif (\n\t\t\t! colorString ||\n\t\t\tcolorString === 'transparent' ||\n\t\t\tcolorString === 'rgba(0, 0, 0, 0)'\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst rgbaMatch = colorString.match(\n\t\t\t/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)/\n\t\t);\n\t\tif ( rgbaMatch ) {\n\t\t\tconst [ , r, g, b, a ] = rgbaMatch;\n\t\t\treturn { r, g, b, a: a || 1 };\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t// Create RGBA string with specified opacity\n\tcreateRgba: ( r, g, b, opacity ) =>\n\t\t`rgba(${ r }, ${ g }, ${ b }, ${ opacity })`,\n\n\t// Check if element has specific width class\n\thasWidthClass: ( menu, widthType ) => {\n\t\tconst widthClasses = {\n\t\t\tcustom: 'menu-width-custom',\n\t\t\tcontent: 'menu-width-content',\n\t\t\twide: 'menu-width-wide',\n\t\t\tfull: 'menu-width-full',\n\t\t};\n\t\treturn menu.classList.contains( widthClasses[ widthType ] );\n\t},\n\n\t// Check if element has specific justification class\n\thasJustificationClass: ( element, justification ) => {\n\t\tconst justificationClasses = {\n\t\t\tleft: [ 'menu-justified-left', 'items-justified-left' ],\n\t\t\tcenter: [\n\t\t\t\t'menu-justified-center',\n\t\t\t\t'items-justified-center',\n\t\t\t\t'items-justified-space-between',\n\t\t\t],\n\t\t\tright: [ 'menu-justified-right', 'items-justified-right' ],\n\t\t};\n\n\t\treturn justificationClasses[ justification ].some( ( className ) =>\n\t\t\telement.classList.contains( className )\n\t\t);\n\t},\n};\n\n// Track the currently open hover menu globally\nlet currentHoverMenu = null;\n\nconst { state, actions } = store( 'ollie/mega-menu', {\n\tstate: {\n\t\tget isMenuOpen() {\n\t\t\t// The menu is opened if either `click`, `focus`, or `hover` is true.\n\t\t\treturn (\n\t\t\t\tObject.values( state.menuOpenedBy ).filter( Boolean ).length > 0\n\t\t\t);\n\t\t},\n\t\tget menuOpenedBy() {\n\t\t\tconst context = getContext();\n\t\t\treturn context.menuOpenedBy;\n\t\t},\n\t\tget isDesktop() {\n\t\t\treturn window.innerWidth >= CONFIG.MOBILE_BREAKPOINT;\n\t\t},\n\t\thoverTimeout: null,\n\t\tget dynamicHoverDelay() {\n\t\t\tconst context = getContext();\n\t\t\tconst topSpacing = context.topSpacing || 0;\n\t\t\t// Add delay based on top spacing to give users more time\n\t\t\tconst extraDelay = topSpacing * CONFIG.HOVER.DELAY_PER_PX;\n\t\t\treturn CONFIG.HOVER.BASE_DELAY + extraDelay;\n\t\t},\n\t},\n\tactions: {\n\t\t// Helper to close all menu states\n\t\tcloseAllMenus() {\n\t\t\tactions.closeMenu( 'click' );\n\t\t\tactions.closeMenu( 'focus' );\n\t\t\tactions.closeMenu( 'hover' );\n\t\t},\n\t\t// Apply mobile background color from responsive container\n\t\tapplyMobileBackgroundColor( menu ) {\n\t\t\tif ( ! state.isDesktop && state.isMenuOpen ) {\n\t\t\t\tconst responsiveContainer =\n\t\t\t\t\tmenuUtils.getResponsiveContainer( menu );\n\t\t\t\tif ( responsiveContainer ) {\n\t\t\t\t\t// Get computed background color of the responsive container\n\t\t\t\t\tconst computedStyle =\n\t\t\t\t\t\twindow.getComputedStyle( responsiveContainer );\n\t\t\t\t\tconst parsedColor = menuUtils.parseRgbColor(\n\t\t\t\t\t\tcomputedStyle.backgroundColor\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( parsedColor ) {\n\t\t\t\t\t\t// Apply the color with configured opacity\n\t\t\t\t\t\tmenu.style.backgroundColor = menuUtils.createRgba(\n\t\t\t\t\t\t\tparsedColor.r,\n\t\t\t\t\t\t\tparsedColor.g,\n\t\t\t\t\t\t\tparsedColor.b,\n\t\t\t\t\t\t\tCONFIG.MENU.MOBILE_BG_OPACITY\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Fallback if no background color is set\n\t\t\t\t\t\tmenu.style.backgroundColor =\n\t\t\t\t\t\t\tCONFIG.MENU.DEFAULT_BG_FALLBACK;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Reset background color on desktop\n\t\t\t\tmenu.style.backgroundColor = '';\n\t\t\t}\n\t\t},\n\t\t// Apply top spacing to menu based on configuration\n\t\tapplyTopSpacing( menu ) {\n\t\t\tconst topSpacing = menu.dataset.topSpacing;\n\t\t\tif ( topSpacing && parseInt( topSpacing ) > 0 && state.isDesktop ) {\n\t\t\t\tmenu.style.top = `${ topSpacing }px`;\n\t\t\t} else if ( ! state.isDesktop ) {\n\t\t\t\t// Reset top spacing on mobile\n\t\t\t\tmenu.style.top = '';\n\t\t\t}\n\t\t},\n\t\t// Apply appropriate width to menu based on its type\n\t\tapplyMenuWidth( menu ) {\n\t\t\tif ( menuUtils.hasWidthClass( menu, 'custom' ) ) {\n\t\t\t\tconst customWidth = menu.dataset.customWidth;\n\t\t\t\tif ( customWidth && parseInt( customWidth ) > 0 ) {\n\t\t\t\t\tmenu.style.width = `${ customWidth }px`;\n\t\t\t\t\tmenu.style.maxWidth = `${ customWidth }px`;\n\t\t\t\t}\n\t\t\t} else if ( menuUtils.hasWidthClass( menu, 'content' ) ) {\n\t\t\t\t// Reset content width menus to auto so they can expand\n\t\t\t\tmenu.style.width = '';\n\t\t\t\tmenu.style.maxWidth = '';\n\t\t\t} else if (\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'wide' ) ||\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'full' )\n\t\t\t) {\n\t\t\t\t// Reset wide/full menus to their original widths\n\t\t\t\tmenu.style.width = '';\n\t\t\t\tmenu.style.maxWidth = '';\n\t\t\t}\n\t\t},\n\t\t// Determine menu justification based on menu and nav block classes\n\t\tdetermineJustification( menu, navBlock ) {\n\t\t\t// Check menu-specific justification first (higher priority)\n\t\t\tif ( menu.classList.contains( 'menu-justified-center' ) ) {\n\t\t\t\treturn 'center';\n\t\t\t} else if ( menu.classList.contains( 'menu-justified-right' ) ) {\n\t\t\t\treturn 'right';\n\t\t\t} else if ( menu.classList.contains( 'menu-justified-left' ) ) {\n\t\t\t\treturn 'left';\n\t\t\t}\n\n\t\t\t// Fall back to nav block justification\n\t\t\tif (\n\t\t\t\tnavBlock.classList.contains( 'items-justified-center' ) ||\n\t\t\t\tnavBlock.classList.contains( 'items-justified-space-between' )\n\t\t\t) {\n\t\t\t\treturn 'center';\n\t\t\t} else if (\n\t\t\t\tnavBlock.classList.contains( 'items-justified-right' )\n\t\t\t) {\n\t\t\t\treturn 'right';\n\t\t\t}\n\n\t\t\treturn 'left'; // Default\n\t\t},\n\t\t// Get menu measurements for positioning calculations\n\t\tgetMenuMeasurements( menu, navBlock ) {\n\t\t\tconst windowSpace = window.innerWidth;\n\t\t\tlet originalMenuWidth = menu.offsetWidth;\n\n\t\t\t// For custom width menus, use the configured width\n\t\t\tif (\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'custom' ) &&\n\t\t\t\tmenu.dataset.customWidth\n\t\t\t) {\n\t\t\t\toriginalMenuWidth = parseInt( menu.dataset.customWidth );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\twindowSpace,\n\t\t\t\toriginalMenuWidth,\n\t\t\t\tmenuRect: menu.getBoundingClientRect(),\n\t\t\t\tnavBlockRect: navBlock.getBoundingClientRect(),\n\t\t\t\tleftOffset: navBlock.getBoundingClientRect().left,\n\t\t\t\tleftSpace: ( windowSpace - originalMenuWidth ) / 2,\n\t\t\t};\n\t\t},\n\t\t// Adjust a single dropdown menu\n\t\tadjustMegaMenu() {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst menu = menuUtils.getMenu( ref );\n\t\t\tif ( ! menu ) return;\n\n\t\t\tconst navBlock = menuUtils.getNavBlock( menu );\n\t\t\tif ( ! navBlock ) return;\n\n\t\t\t// Apply positioning helpers\n\t\t\tactions.applyTopSpacing( menu );\n\t\t\tactions.applyMobileBackgroundColor( menu );\n\t\t\tactions.applyMenuWidth( menu );\n\n\t\t\t// Determine justification\n\t\t\tconst justification = actions.determineJustification(\n\t\t\t\tmenu,\n\t\t\t\tnavBlock\n\t\t\t);\n\n\t\t\t// Get measurements\n\t\t\tconst measurements = actions.getMenuMeasurements( menu, navBlock );\n\n\t\t\t// Apply justification-based positioning\n\t\t\tactions.applyJustificationPositioning(\n\t\t\t\tmenu,\n\t\t\t\tjustification,\n\t\t\t\tmeasurements.windowSpace,\n\t\t\t\tmeasurements.originalMenuWidth,\n\t\t\t\tmeasurements.menuRect,\n\t\t\t\tmeasurements.leftOffset,\n\t\t\t\tmeasurements.leftSpace,\n\t\t\t\tmeasurements.navBlockRect\n\t\t\t);\n\t\t},\n\t\t// Apply justification-based positioning\n\t\tapplyJustificationPositioning(\n\t\t\tmenu,\n\t\t\tjustification,\n\t\t\twindowSpace,\n\t\t\tmenuWidth,\n\t\t\tmenuRect\n\t\t) {\n\t\t\tconst minWidth = CONFIG.MENU.MIN_WIDTH;\n\n\t\t\t// Step 1: Handle width constraints for ALL menus\n\t\t\tif ( menuWidth > windowSpace ) {\n\t\t\t\tconst newWidth = Math.max( windowSpace, minWidth );\n\t\t\t\tmenu.style.width = `${ newWidth }px`;\n\t\t\t\t// Update dimensions to use constrained width for calculations\n\t\t\t\tmenuWidth = newWidth;\n\t\t\t}\n\n\t\t\t// Step 2: Handle positioning based on width type and justification\n\n\t\t\t// Wide/Full menus - always center on page when justified center\n\t\t\tif (\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'wide' ) ||\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'full' )\n\t\t\t) {\n\t\t\t\tif ( justification === 'center' ) {\n\t\t\t\t\t// Center the menu on the screen\n\t\t\t\t\tconst screenCenter = windowSpace / 2;\n\t\t\t\t\tconst menuCenter = menuWidth / 2;\n\t\t\t\t\tconst currentLeft = menuRect.left;\n\t\t\t\t\tconst targetLeft = screenCenter - menuCenter;\n\t\t\t\t\tconst offset = targetLeft - currentLeft;\n\t\t\t\t\tconst newLeft = parseFloat( menu.style.left || 0 ) + offset;\n\t\t\t\t\tmenu.style.left = `${ newLeft }px`;\n\t\t\t\t}\n\t\t\t\treturn; // Wide/full menus don't need edge detection\n\t\t\t}\n\n\t\t\t// Content/Custom menus - handle centering if needed\n\t\t\tif ( justification === 'center' ) {\n\t\t\t\t// Custom width needs dynamic centering calculation\n\t\t\t\tif ( menuUtils.hasWidthClass( menu, 'custom' ) ) {\n\t\t\t\t\tconst customWidth = parseInt( menu.dataset.customWidth );\n\t\t\t\t\tif ( customWidth ) {\n\t\t\t\t\t\t// Apply the same CSS pattern as content-width, but with custom width\n\t\t\t\t\t\t// Use the actual menuWidth in case it was constrained by viewport\n\t\t\t\t\t\tmenu.style.left = `calc( ( -1 * ${ menuWidth }px / 2 ) + 50% )`;\n\t\t\t\t\t\t// Defer position update until needed for edge detection\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Step 3: Edge detection for content/custom menus (all justifications)\n\t\t\tif (\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'content' ) ||\n\t\t\t\tmenuUtils.hasWidthClass( menu, 'custom' )\n\t\t\t) {\n\t\t\t\t// Get fresh position only when needed for edge detection\n\t\t\t\tconst freshMenuRect = menu.getBoundingClientRect();\n\t\t\t\tconst currentLeft = freshMenuRect.left;\n\t\t\t\tconst currentRight = freshMenuRect.right;\n\n\t\t\t\t// Check if menu goes off either edge\n\t\t\t\tif ( currentLeft < 0 || currentRight > windowSpace ) {\n\t\t\t\t\tif ( justification === 'center' ) {\n\t\t\t\t\t\t// For centered menus, adjust position to keep on screen\n\t\t\t\t\t\tlet overflowAmount = 0;\n\t\t\t\t\t\tif ( currentLeft < 0 ) {\n\t\t\t\t\t\t\toverflowAmount = Math.abs( currentLeft );\n\t\t\t\t\t\t} else if ( currentRight > windowSpace ) {\n\t\t\t\t\t\t\toverflowAmount = -( currentRight - windowSpace );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// For custom width menus that use calc(), update the calc formula\n\t\t\t\t\t\tif ( menuUtils.hasWidthClass( menu, 'custom' ) ) {\n\t\t\t\t\t\t\tmenu.style.left = `calc( ( -1 * ${ menuWidth }px / 2 ) + 50% + ${ overflowAmount }px )`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// For content width menus, adjust the position directly\n\t\t\t\t\t\t\tconst currentRelativeLeft = parseFloat(\n\t\t\t\t\t\t\t\tmenu.style.left ||\n\t\t\t\t\t\t\t\t\twindow.getComputedStyle( menu ).left ||\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tmenu.style.left = `${\n\t\t\t\t\t\t\t\tcurrentRelativeLeft + overflowAmount\n\t\t\t\t\t\t\t}px`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// For left/right justified menus, check if they would become too small\n\t\t\t\t\t\tlet newWidth = menuWidth;\n\t\t\t\t\t\tlet wouldBeTooSmall = false;\n\n\t\t\t\t\t\t// Calculate the new width after overflow adjustment\n\t\t\t\t\t\tif ( currentLeft < 0 ) {\n\t\t\t\t\t\t\tconst overflowLeft = Math.abs( currentLeft );\n\t\t\t\t\t\t\tnewWidth = Math.min( newWidth, menuWidth - overflowLeft );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( currentRight > windowSpace ) {\n\t\t\t\t\t\t\tconst overflowRight = currentRight - windowSpace;\n\t\t\t\t\t\t\tnewWidth = Math.min( newWidth, menuWidth - overflowRight );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if width would be below minimum threshold\n\t\t\t\t\t\twouldBeTooSmall = newWidth < CONFIG.MENU.MIN_WIDTH_BEFORE_ANCHOR;\n\n\t\t\t\t\t\t// If menu would be too small and hasn't been swapped yet, swap justification\n\t\t\t\t\t\tif ( wouldBeTooSmall && menu.dataset.justificationSwapped !== 'true' ) {\n\t\t\t\t\t\t\t// Determine new justification (opposite of current)\n\t\t\t\t\t\t\tconst newJustification = justification === 'left' ? 'right' : 'left';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Remove all justification classes and add the new one\n\t\t\t\t\t\t\tmenu.classList.remove( 'menu-justified-left', 'menu-justified-right', 'menu-justified-center' );\n\t\t\t\t\t\t\tmenu.classList.add( `menu-justified-${newJustification}` );\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Mark as swapped and reset styles\n\t\t\t\t\t\t\tmenu.dataset.justificationSwapped = 'true';\n\t\t\t\t\t\t\tmenu.style.width = '';\n\t\t\t\t\t\t\tmenu.style.left = '';\n\t\t\t\t\t\t\tmenu.style.maxWidth = '';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Re-run adjustment with new justification\n\t\t\t\t\t\t\treturn actions.adjustMegaMenu();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If no swap occurred, apply the calculated width reduction\n\t\t\t\t\t\tif ( !wouldBeTooSmall ) {\n\t\t\t\t\t\t\tconst finalWidth = Math.max( newWidth, CONFIG.MENU.MIN_WIDTH );\n\t\t\t\t\t\t\tmenu.style.width = `${ finalWidth }px`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Handle window resize using Interactivity API\n\t\thandleResize() {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst menu = menuUtils.getMenu( ref );\n\t\t\tif ( ! menu ) return;\n\n\t\t\t// Clear any hover timeouts on resize\n\t\t\tactions.clearHoverTimeout();\n\n\t\t\t// Close hover menus if we resize below desktop breakpoint\n\t\t\tif ( ! state.isDesktop && state.menuOpenedBy.hover ) {\n\t\t\t\tactions.closeMenu( 'hover' );\n\t\t\t}\n\n\t\t\t// Reset justification swap flag on resize to allow re-evaluation\n\t\t\tdelete menu.dataset.justificationSwapped;\n\n\t\t\t// Re-apply full positioning logic on resize\n\t\t\tactions.adjustMegaMenu();\n\n\t\t\t// Reapply mobile background color on resize\n\t\t\tif ( state.isMenuOpen ) {\n\t\t\t\tactions.applyMobileBackgroundColor( menu );\n\t\t\t}\n\t\t},\n\t\ttoggleMenuOnClick( event ) {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\t\n\t\t\t// On mobile, always toggle the menu even if it's a link with hover enabled\n\t\t\t// On desktop with hover enabled and URL, allow default link behavior\n\t\t\tif ( context.showOnHover && context.url && state.isDesktop ) {\n\t\t\t\t// Let the link navigate on desktop when hover is enabled with URL\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// Prevent default link navigation on mobile or when no URL\n\t\t\tif ( event && event.preventDefault ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\t// Safari won't send focus to the clicked element, so we need to manually place it: https://bugs.webkit.org/show_bug.cgi?id=22261\n\t\t\tif ( window.document.activeElement !== ref ) ref.focus();\n\n\t\t\tif ( state.menuOpenedBy.click || state.menuOpenedBy.focus ) {\n\t\t\t\tactions.closeMenu( 'click' );\n\t\t\t\tactions.closeMenu( 'focus' );\n\t\t\t} else {\n\t\t\t\tcontext.previousFocus = ref;\n\t\t\t\tactions.openMenu( 'click' );\n\t\t\t}\n\t\t},\n\t\tcloseMenuOnClick() {\n\t\t\tactions.closeMenu( 'click' );\n\t\t\tactions.closeMenu( 'focus' );\n\t\t},\n\n\t\t// ========== HOVER FUNCTIONALITY ==========\n\t\t// Hover timeout management\n\t\tclearHoverTimeout() {\n\t\t\tif ( state.hoverTimeout ) {\n\t\t\t\tclearTimeout( state.hoverTimeout );\n\t\t\t\tstate.hoverTimeout = null;\n\t\t\t}\n\t\t},\n\t\tsetHoverTimeout( callback, delay ) {\n\t\t\tactions.clearHoverTimeout();\n\t\t\tstate.hoverTimeout = setTimeout( withScope( callback ), delay );\n\t\t},\n\t\t// Check if hover should be active\n\t\tshouldActivateHover() {\n\t\t\tconst context = getContext();\n\t\t\treturn context.showOnHover && state.isDesktop;\n\t\t},\n\t\t// Handle mouse enter on toggle button\n\t\thandleMouseEnter() {\n\t\t\tif ( ! actions.shouldActivateHover() ) return;\n\n\t\t\tactions.setHoverTimeout( () => {\n\t\t\t\tif ( ! state.menuOpenedBy.click ) {\n\t\t\t\t\t// Close the previously open hover menu if it exists\n\t\t\t\t\tif ( currentHoverMenu && currentHoverMenu !== getContext() ) {\n\t\t\t\t\t\tcurrentHoverMenu.menuOpenedBy.hover = false;\n\t\t\t\t\t}\n\t\t\t\t\t// Track this as the current hover menu\n\t\t\t\t\tcurrentHoverMenu = getContext();\n\t\t\t\t\t// Don't interfere with click-opened menus\n\t\t\t\t\tactions.openMenu( 'hover' );\n\t\t\t\t}\n\t\t\t}, CONFIG.HOVER.BASE_DELAY );\n\t\t},\n\t\t// Handle mouse leave from toggle button\n\t\thandleMouseLeave() {\n\t\t\tif ( ! actions.shouldActivateHover() ) return;\n\n\t\t\tactions.setHoverTimeout( () => {\n\t\t\t\tactions.closeMenu( 'hover' );\n\t\t\t}, state.dynamicHoverDelay ); // Use dynamic delay based on top spacing\n\t\t},\n\t\t// Handle mouse enter on menu container\n\t\thandleMenuMouseEnter() {\n\t\t\tif ( ! actions.shouldActivateHover() ) return;\n\n\t\t\t// Clear any close timeout to keep menu open\n\t\t\tactions.clearHoverTimeout();\n\t\t},\n\t\t// Handle mouse leave from menu container\n\t\thandleMenuMouseLeave() {\n\t\t\tif ( ! actions.shouldActivateHover() ) return;\n\n\t\t\tactions.setHoverTimeout( () => {\n\t\t\t\tactions.closeMenu( 'hover' );\n\t\t\t}, CONFIG.HOVER.BASE_DELAY ); // Use base delay when leaving menu\n\t\t},\n\t\t// ========== END HOVER FUNCTIONALITY ==========\n\n\t\thandleMenuKeydown( event ) {\n\t\t\tif ( state.menuOpenedBy.click ) {\n\t\t\t\t// If Escape close the menu.\n\t\t\t\tif ( event?.key === 'Escape' ) {\n\t\t\t\t\tactions.closeMenu( 'click' );\n\t\t\t\t\tactions.closeMenu( 'focus' );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleMenuFocusout( event ) {\n\t\t\tconst context = getContext();\n\t\t\tconst menuContainer = context.megaMenu?.querySelector(\n\t\t\t\t'.wp-block-ollie-mega-menu__menu-container'\n\t\t\t);\n\t\t\t// If focus is outside menu, and in the document, close menu\n\t\t\t// event.target === The element losing focus\n\t\t\t// event.relatedTarget === The element receiving focus (if any)\n\t\t\t// When focusout is outside the document,\n\t\t\t// `window.document.activeElement` doesn't change.\n\n\t\t\t// The event.relatedTarget is null when something outside the navigation menu is clicked. This is only necessary for Safari.\n\t\t\t// TODO: There is still an issue in Safari where clicking on the menu link closes the menu. We don't want this. The toggleMenuOnClick callback should handle this.\n\t\t\tif (\n\t\t\t\tevent.relatedTarget === null ||\n\t\t\t\t( ! menuContainer?.contains( event.relatedTarget ) &&\n\t\t\t\t\tevent.target !== window.document.activeElement )\n\t\t\t) {\n\t\t\t\tactions.closeAllMenus();\n\t\t\t}\n\t\t},\n\t\topenMenu( menuOpenedOn = 'click' ) {\n\t\t\tstate.menuOpenedBy[ menuOpenedOn ] = true;\n\t\t},\n\t\tcloseMenu( menuClosedOn = 'click' ) {\n\t\t\tconst context = getContext();\n\t\t\tstate.menuOpenedBy[ menuClosedOn ] = false;\n\n\t\t\t// Reset the menu reference and button focus when closed.\n\t\t\tif ( ! state.isMenuOpen ) {\n\t\t\t\t// Clear the global hover menu reference if this was the hover menu\n\t\t\t\tif ( currentHoverMenu === context ) {\n\t\t\t\t\tcurrentHoverMenu = null;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (\n\t\t\t\t\tcontext.megaMenu?.contains( window.document.activeElement )\n\t\t\t\t) {\n\t\t\t\t\tcontext.previousFocus?.focus();\n\t\t\t\t}\n\t\t\t\tcontext.previousFocus = null;\n\t\t\t\t\n\t\t\t\t// Reset justification swap flag when menu closes\n\t\t\t\tif ( context.megaMenu ) {\n\t\t\t\t\tconst menu = menuUtils.getMenu( context.megaMenu );\n\t\t\t\t\tif ( menu ) {\n\t\t\t\t\t\tdelete menu.dataset.justificationSwapped;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcontext.megaMenu = null;\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\tinitMenu() {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\n\t\t\t// Set the menu reference when initialized.\n\t\t\tif ( state.isMenuOpen ) {\n\t\t\t\tcontext.megaMenu = ref;\n\n\t\t\t\t// Apply mobile background color when menu opens\n\t\t\t\tconst menu = menuUtils.getMenu( ref );\n\t\t\t\tif ( menu ) {\n\t\t\t\t\tactions.applyMobileBackgroundColor( menu );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Initialize and adjust menu on component ready\n\t\tinitMenuLayout() {\n\t\t\t// Adjust this specific menu\n\t\t\tactions.adjustMegaMenu();\n\t\t},\n\t},\n} );\n"],"names":["store","getContext","getElement","withScope","CONFIG","MOBILE_BREAKPOINT","HOVER","BASE_DELAY","DELAY_PER_PX","MENU","MIN_WIDTH","MIN_WIDTH_BEFORE_ANCHOR","VIEWPORT_OFFSET","MOBILE_BG_OPACITY","DEFAULT_BG_FALLBACK","CLASSES","MENU_CONTAINER","NAV_BLOCK","RESPONSIVE_CONTAINER","menuUtils","getMenu","ref","querySelector","getNavBlock","menu","closest","getResponsiveContainer","parseRgbColor","colorString","rgbaMatch","match","r","g","b","a","createRgba","opacity","hasWidthClass","widthType","widthClasses","custom","content","wide","full","classList","contains","hasJustificationClass","element","justification","justificationClasses","left","center","right","some","className","currentHoverMenu","state","actions","isMenuOpen","Object","values","menuOpenedBy","filter","Boolean","length","context","isDesktop","window","innerWidth","hoverTimeout","dynamicHoverDelay","topSpacing","extraDelay","closeAllMenus","closeMenu","applyMobileBackgroundColor","responsiveContainer","computedStyle","getComputedStyle","parsedColor","backgroundColor","style","applyTopSpacing","dataset","parseInt","top","applyMenuWidth","customWidth","width","maxWidth","determineJustification","navBlock","getMenuMeasurements","windowSpace","originalMenuWidth","offsetWidth","menuRect","getBoundingClientRect","navBlockRect","leftOffset","leftSpace","adjustMegaMenu","measurements","applyJustificationPositioning","menuWidth","minWidth","newWidth","Math","max","screenCenter","menuCenter","currentLeft","targetLeft","offset","newLeft","parseFloat","freshMenuRect","currentRight","overflowAmount","abs","currentRelativeLeft","wouldBeTooSmall","overflowLeft","min","overflowRight","justificationSwapped","newJustification","remove","add","finalWidth","handleResize","clearHoverTimeout","hover","toggleMenuOnClick","event","showOnHover","url","preventDefault","document","activeElement","focus","click","previousFocus","openMenu","closeMenuOnClick","clearTimeout","setHoverTimeout","callback","delay","setTimeout","shouldActivateHover","handleMouseEnter","handleMouseLeave","handleMenuMouseEnter","handleMenuMouseLeave","handleMenuKeydown","key","handleMenuFocusout","menuContainer","megaMenu","relatedTarget","target","menuOpenedOn","menuClosedOn","callbacks","initMenu","initMenuLayout"],"sourceRoot":""}